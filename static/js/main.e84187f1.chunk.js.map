{"version":3,"sources":["components/Article.js","components/Loading.js","components/Navigation.js","components/LocalStore.js","App.js","reportWebVitals.js","index.js"],"names":["Article","props","article","length","body","map","type","className","model","text","src","url","alt","height","width","items","item","Loading","Component","loading","Navigation","name","to","UseLocalStorage","key","initialValue","useState","window","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","App","authResult","URLSearchParams","location","search","articles","articleKeys","get","removeLocalStorageVars","removeItem","substring","lastIndexOf","getLastItem","resetLocalStorageVars","ArticleLoading","appState","setAppState","hasBeenVisited","useEffect","fetch","then","res","json","article1","setArticle1","article2","setArticle2","article3","setArticle3","article4","setArticle4","article5","setArticle5","forceRefresh","isLoading","onSubmit","event","alert","preventDefault","method","action","some","for","placeholder","id","min","max","onChange","e","target","every","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e84187f1.chunk.js","sourcesContent":["import React from 'react';\n\nconst Article = (props) => {\n  const { article } = props;\n  if (!article || article.length === 0) {\n    return (<div className=\"instructions\"><p>Please choose an article above <br/> You can provide a ranking at the end of each article.<br/>\n            Once all articles have been ranked you can submit your rankings, <br/> Thank you.</p></div>);\n  }\n  return (\n    <div>\n        {article.body.map((article) => {\n          switch (article.type) {\n            case 'heading':\n              return (\n                <div key={article.type} className='article-heading'>\n                   <span className='article-text'><h1>{article.model.text}</h1></span>\n                </div>\n              );\n            case 'paragraph':\n              return (\n                <div key={article.type} className='article-paragraph'>\n                   <span className='article-text'><p>{article.model.text}</p></span>\n                </div>\n              );\n            case 'image':\n              return (\n                <div key={article.type} className='article-image'>\n                   <span className='article-image'>\n                   <img src={article.model.url} alt={article.model.alt} height={article.model.height} width={article.model.width}></img>\n                   </span>\n                </div>\n              );\n            case 'list':\n              if (article.model.type === 'unordered'){\n                return (\n                   <ul>\n                   {article.model.items.map((item) => (\n                       <li>{item}</li>\n                    ))\n                    }\n\n                   </ul>\n                );\n              } else {\n                return (\n                  <div>OL not implemented</div>\n                );\n              }\n            default:\n              return (\n              <div></div>\n              );\n          }\n        })}\n          </div>\n  );\n};\nexport default Article;","import React from 'react';\n\nfunction Loading(Component) {\n  return function LoadingComponent({ loading, ...props }) {\n    if (!loading) return <Component {...props} />;\n    return (\n      <div className='article-loading-text'>Fetching Article please wait....</div>\n    );\n  };\n}\nexport default Loading;","import React from 'react';\nimport { NavLink} from 'react-router-dom';\n\nconst Navigation = () => {\n    return (\n       <div className=\"article-nav\">\n          <NavLink name=\"Article1\" to=\"/my-app/?url=https://raw.githubusercontent.com/bbc/news-coding-test-dataset/master/data/article-1.json\">Article1</NavLink>\n          <NavLink name=\"Article2\" to=\"/my-app/?url=https://raw.githubusercontent.com/bbc/news-coding-test-dataset/master/data/article-2.json\">Article2</NavLink>\n          <NavLink name=\"Article3\" to=\"/my-app/?url=https://raw.githubusercontent.com/bbc/news-coding-test-dataset/master/data/article-3.json\">Article3</NavLink>\n          <NavLink name=\"Article4\" to=\"/my-app/?url=https://raw.githubusercontent.com/bbc/news-coding-test-dataset/master/data/article-4.json\">Article4</NavLink>\n          <NavLink name=\"Article5\" to=\"/my-app/?url=https://raw.githubusercontent.com/bbc/news-coding-test-dataset/master/data/article-5.json\">Article5</NavLink>\n       </div>\n    );\n}\n\nexport default Navigation;","import {useState } from 'react';\n\nfunction UseLocalStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = value => {\n    try {\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\nexport default UseLocalStorage;\n","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport Article from './components/Article';\nimport Loading from './components/Loading';\nimport { BrowserRouter } from 'react-router-dom';\nimport Navigation from './components/Navigation';\nimport UseLocalStorage from './components/LocalStore';\n\n\nfunction App() {\n\n  const getLastItem = url => url.substring(url.lastIndexOf('/') + 1);\n  const authResult = new URLSearchParams(window.location.search);\n  const articles = ['article-1.json', 'article-2.json', 'article-3.json', 'article-4.json', 'article-5.json']\n  const articleKeys = ['article1', 'article2', 'article3', 'article4', 'article5']\n  const url = authResult.get('url') ? authResult.get('url') : '';\n  if (!authResult.get('url')){\n    resetLocalStorageVars();\n  }else{\n      localStorage.setItem(getLastItem(url) ,'true');\n  }\n\n  function resetLocalStorageVars(){\n    removeLocalStorageVars(articles);\n    removeLocalStorageVars(articleKeys);\n    setupLocalStorageVars(articles);\n  }\n\n  function removeLocalStorageVars(items){\n    items.map((item) => localStorage.removeItem(item));\n  }\n\n  function setupLocalStorageVars(items){\n    items.map((item) => localStorage.setItem(item,'false'));\n  }\n\n  const ArticleLoading = Loading(Article);\n  const [appState, setAppState] = useState({\n    loading: false,\n    article: null,\n  });\n\n  useEffect(() => {\n    setAppState({ loading: true });\n    fetch(url)\n      .then((res) => res.json())\n      .then((article) => {\n        setAppState({ loading: false, article: article });\n      });\n  }, [setAppState]);\n\n  const mySubmitHandler = (event) => {\n    if (article1 && article2 && article3 && article4 && article5){\n       alert(\"Summiting the following: \" +\n         \" article1=\" + article1 +\n         \" article2=\" + article2 +\n         \" article3=\" + article3 +\n         \" article4=\" + article4 +\n         \" article5=\" + article5);\n    } else {\n       alert(\"Not all articles are ranked no submission occured\")\n       event.preventDefault();\n       return\n    }\n  }\n\n  function hasBeenVisited(article){\n    return localStorage.getItem(article) === 'true';\n   }\n\n  function allArticlesVisited(){\n    return articles.every(article => localStorage.getItem(article) === 'true');\n  }\n\n  function anyArticleVisited(){\n    return articles.some(article => localStorage.getItem(article) === 'true');\n  }\n\n  const [article1, setArticle1] = UseLocalStorage('article1', '');\n  const [article2, setArticle2] = UseLocalStorage('article2', '');\n  const [article3, setArticle3] = UseLocalStorage('article3', '');\n  const [article4, setArticle4] = UseLocalStorage('article4', '');\n  const [article5, setArticle5] = UseLocalStorage('article5', '');\n\n  return (\n    <div className='App'>\n      <div className='app-title'>\n        <h1>BBC News</h1>\n      </div>\n      <div><BrowserRouter forceRefresh>\n        <Navigation className=\"article-nav\"></Navigation>\n        </BrowserRouter>\n      </div>\n      <div className='article-body'>\n        <ArticleLoading isLoading={appState.loading} article={appState.article} />\n      </div>\n      <footer>\n      <div>\n        <form className='rank-form'onSubmit={mySubmitHandler} method=\"POST\" action=\"https://httpbin.org/post\">\n          {anyArticleVisited() ? <p>Rank  Articles (1 to 5):</p> : ''}\n          {hasBeenVisited(articles[0]) ?\n          <>\n            <label for={articleKeys[0]}>{articleKeys[0]}: </label>\n            <input type=\"number\" placeholder=\"0\" value={article1} id={articleKeys[0]} name={articleKeys[0]} min=\"1\" max=\"5\" onChange={e => setArticle1(e.target.value)} />\n            <br/>\n          </>\n          : ''}\n          {hasBeenVisited(articles[1]) ?\n          <>\n            <label for={articleKeys[1]}>{articleKeys[1]}: </label>\n            <input type=\"number\" placeholder=\"0\" value={article2} id={articleKeys[1]} name={articleKeys[1]} min=\"1\" max=\"5\" onChange={e => setArticle2(e.target.value)} />\n            <br/>\n          </>\n          : ''}\n          {hasBeenVisited(articles[2]) ?\n          <>\n            <label for={articleKeys[2]}>{articleKeys[2]}: </label>\n            <input type=\"number\" placeholder=\"0\" value={article3} id={articleKeys[2]} name={articleKeys[2]} min=\"1\" max=\"5\" onChange={e => setArticle3(e.target.value)} />\n            <br/>\n          </>\n          : ''}\n          {hasBeenVisited(articles[3]) ?\n          <>\n            <label for={articleKeys[3]}>{articleKeys[3]}: </label>\n            <input type=\"number\" placeholder=\"0\" value={article4} id={articleKeys[3]} name={articleKeys[3]} min=\"1\" max=\"5\" onChange={e => setArticle4(e.target.value)} />\n            <br/>\n          </>\n          : ''}\n          {hasBeenVisited(articles[4]) ?\n          <>\n            <label for={articleKeys[4]}>{articleKeys[4]}: </label>\n            <input type=\"number\" placeholder=\"0\" value={article5} id={articleKeys[4]} name={articleKeys[4]} min=\"1\" max=\"5\" onChange={e => setArticle5(e.target.value)} />\n            <br/>\n          </>\n          : ''}\n\n          <br/>\n          {allArticlesVisited() ? <button type=\"submit\">Send Rankings</button> : ''}\n        </form>\n      </div>\n      </footer>\n\n    </div>\n\n  );\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}